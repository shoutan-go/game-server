{"version":3,"sources":["/Users/lookis/Projects/game-server/src/routes/match/index.js","/Users/lookis/Projects/game-server/src/routes/match/match.graphql"],"names":["action","id","query","client","variables","then","data","match","redirect","color","window","swal","type","title","wx","closeWindow","chunks","component"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;AAGA;AACA;AACA;;YAyBiB,e;;AAvBjB,SAASA,MAAT,OAA2C;AAAA,MAAhBC,EAAgB,QAAzBC,KAAyB,CAAhBD,EAAgB;AAAA,MAAVE,MAAU,QAAVA,MAAU;AACzC,SAAOA,OAAOD,KAAP,CAAa;AAClBA,WAAO,sDADW;AAElBE,eAAW;AACTH;AADS;AAFO,GAAb,EAKJI,IALI,CAKC,iBAAY;AAAA,QAAVC,IAAU,SAAVA,IAAU;;AAClB,QAAIA,QAAQA,KAAKC,KAAb,IAAsBD,KAAKC,KAAL,CAAWN,EAArC,EAAyC;AACvC,aAAO;AACLO,mCAAoBF,KAAKC,KAAL,CAAWN,EAA/B,qBAA4CK,KAAKC,KAAL,CAAWE,KAAvD;AADK,OAAP;AAGD;;AACD,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjCC,MAAA,mDAAAA,CAAK;AACHC,cAAM,OADH;AAEHC,eAAO;AAFJ,OAAL,EAGGR,IAHH,CAGQ,YAAM;AACZS,WAAGC,WAAH;AACD,OALD;AAMD;;AACD,WAAO;AACLC,cAAQ,CAAC,OAAD,CADH;AAELH,aAAO,KAFF;AAGLI;AAHK,KAAP;AAKD,GAxBM,CAAP;AA0BD;;AAED,+DAAejB,MAAf,E;;;;;;;;ACnCA,eAAe,kCAAkC,yDAAyD,8BAA8B,yBAAyB,wCAAwC,0BAA0B,4BAA4B,SAAS,6BAA6B,2BAA2B,iCAAiC,qBAAqB,kCAAkC,qCAAqC,oCAAoC,8BAA8B,eAAe,0BAA0B,2BAA2B,UAAU,0BAA0B,6BAA6B,kCAAkC,qCAAqC,oCAAoC,2BAA2B,oDAAoD,EAAE,oCAAoC,8BAA8B,oDAAoD,GAAG,GAAG,SAAS;AACr8B,sBAAsB,mCAAmC,oBAAoB,wBAAwB,GAAG,+CAA+C;;;AAGvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"chunks/match.js","sourcesContent":["/**\n * @author lookis on 10/06/2018\n */\nimport React from 'react';\nimport swal from 'sweetalert2';\nimport queryMatch from './match.graphql';\n\nfunction action({ query: { id }, client }) {\n  return client.query({\n    query: queryMatch,\n    variables: {\n      id,\n    },\n  }).then(({data}) => {\n    if (data && data.match && data.match.id) {\n      return {\n        redirect: `/go?id=${data.match.id}&invite=${data.match.color}`,\n      };\n    }\n    if (typeof window !== 'undefined') {\n      swal({\n        type: 'error',\n        title: '比赛已结束',\n      }).then(() => {\n        wx.closeWindow();\n      });\n    }\n    return {\n      chunks: ['match'],\n      title: '匹配中',\n      component: <div />,\n    };\n  });\n\n}\n\nexport default action;\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/match/index.js","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"Match\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"defaultValue\":null}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"match\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[],\"selectionSet\":null},{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"color\"},\"arguments\":[],\"directives\":[],\"selectionSet\":null}]}}]}}],\"loc\":{\"start\":0,\"end\":70}};\n    doc.loc.source = {\"body\":\"query Match($id: String!) {\\n  match(id: $id) {\\n    id\\n    color\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n      module.exports = doc;\n    \n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/match/match.graphql\n// module id = 202\n// module chunks = 8"],"sourceRoot":""}